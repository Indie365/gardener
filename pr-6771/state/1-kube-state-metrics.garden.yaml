apiVersion: v1
items:
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "5"
      resources.gardener.cloud/description: |-
        DO NOT EDIT - This resource is managed by gardener-resource-manager.
        Any modifications are discarded and the resource is returned to the original state.
      resources.gardener.cloud/origin: garden/kube-state-metrics
    creationTimestamp: "2022-10-04T06:42:05Z"
    generation: 5
    labels:
      component: kube-state-metrics
      resources.gardener.cloud/managed-by: gardener
      role: monitoring
      type: seed
    name: kube-state-metrics
    namespace: garden
    resourceVersion: "1000981"
    uid: d06c4c3d-052f-4329-b91e-1612fe618bfe
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 2
    selector:
      matchLabels:
        component: kube-state-metrics
        type: seed
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 1
      type: RollingUpdate
    template:
      metadata:
        creationTimestamp: null
        labels:
          component: kube-state-metrics
          networking.gardener.cloud/from-prometheus: allowed
          networking.gardener.cloud/to-dns: allowed
          networking.gardener.cloud/to-seed-apiserver: allowed
          resources.gardener.cloud/managed-by: gardener
          role: monitoring
          type: seed
      spec:
        containers:
        - args:
          - --port=8080
          - --telemetry-port=8081
          - --resources=deployments,pods,statefulsets,nodes,verticalpodautoscalers,horizontalpodautoscalers,persistentvolumeclaims,replicasets
          - --metric-labels-allowlist=nodes=[*]
          image: registry.k8s.io/kube-state-metrics/kube-state-metrics:v2.5.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: kube-state-metrics
          ports:
          - containerPort: 8080
            name: metrics
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources:
            requests:
              cpu: 10m
              memory: 32Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        priorityClassName: gardener-system-600
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: kube-state-metrics
        serviceAccountName: kube-state-metrics
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2022-10-04T06:42:05Z"
      lastUpdateTime: "2022-10-04T06:42:05Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2022-10-04T06:42:05Z"
      lastUpdateTime: "2022-10-05T10:09:12Z"
      message: ReplicaSet "kube-state-metrics-7bc694ddbd" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 5
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
kind: List
metadata:
  resourceVersion: ""
